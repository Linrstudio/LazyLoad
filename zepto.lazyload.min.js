/*
 * Lazy Load - jQuery plugin for lazy loading images
 *
 * Copyright (c) 2007-2013 Mika Tuupola
 *
 * Licensed under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 *
 * Project home:
 *   http://www.appelsiini.net/projects/lazyload
 *
 * Version:  1.8.6
 * Modified by xiaogezi v1.0.5+
 *
 */
(function(c,g,k,e){var f=c(g);c.fn.lazyload=function(b){function a(){var b=0;h.each(function(){var a=c(this);if(!(d.skip_invisible&&"none"===a.css("display")||c.abovethetop(this,d)||c.leftofbegin(this,d)))if(!c.belowthefold(this,d)&&!c.rightoffold(this,d))a.trigger("appear"),b=0;else if(++b>d.failure_limit)return!1})}var h=this,d={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:g,data_attribute:"src",skip_invisible:!0,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};
b&&(e!==b.failurelimit&&(b.failure_limit=b.failurelimit,delete b.failurelimit),e!==b.effectspeed&&(b.effect_speed=b.effectspeed,delete b.effectspeed),c.extend(d,b));b=d.container===e||d.container===g?f:c(d.container);if(0===d.event.indexOf("scroll"))b.on(d.event,function(c){return a()});this.each(function(){var b=this,a=c(b);b.loaded=!1;(a.attr("src")===e||!1===a.attr("src"))&&a.is("img")&&a.attr("src",d.placeholder);(a.attr("src")===e||!1===a.attr("src"))&&a.is("img")&&a.attr("src",d.placeholder);
a.one("appear",function(){if(!this.loaded)if(d.appear&&d.appear.call(b,h.length,d),a.is("[data-class]")){var e=a.data("class");"hide"==d.effect&&a.hide();a.addClass(e).removeAttr("data-class");b.loaded=!0}else{var f=a.data(d.data_attribute);c("<img />").on("load",function(){!1!==d.effect&&a.hide();a.is("img")?a.attr("src",f):a.css("background-image","url("+f+")");var e=a[d.effect];e&&e(d.effect_speed);b.loaded=!0;e=c.grep(h,function(a){return!a.loaded});h=c(e);d.load&&d.load.call(b,h.length,d)}).attr("src",
f)}});if(0!==d.event.indexOf("scroll"))a.on(d.event,function(c){b.loaded||a.trigger("appear")})});f.on("resize",function(b){a()});if(/iphone|ipod|ipad.*os 5/gi.test(navigator.appVersion))f.on("pageshow",function(a){a=a.originalEvent||a;a.persisted&&h.each(function(){c(this).trigger("appear")})});c(g).on("load",function(){a()});return this};c.belowthefold=function(b,a){return(a.container===e||a.container===g?f.height()+f[0].scrollY:c(a.container).offset().top+c(a.container).height())<=c(b).offset().top-
a.threshold};c.rightoffold=function(b,a){return(a.container===e||a.container===g?f.width()+f[0].scrollX:c(a.container).offset().left+c(a.container).width())<=c(b).offset().left-a.threshold};c.abovethetop=function(b,a){return(a.container===e||a.container===g?f[0].scrollY:c(a.container).offset().top)>=c(b).offset().top+a.threshold+c(b).height()};c.leftofbegin=function(b,a){return(a.container===e||a.container===g?f[0].scrollX:c(a.container).offset().left)>=c(b).offset().left+a.threshold+c(b).width()};
c.inviewport=function(b,a){return!c.rightoffold(b,a)&&!c.leftofbegin(b,a)&&!c.belowthefold(b,a)&&!c.abovethetop(b,a)};c.extend(c.fn,{"below-the-fold":function(b){return c.belowthefold(b,{threshold:0})},"above-the-top":function(b){return!c.belowthefold(b,{threshold:0})},"right-of-screen":function(b){return c.rightoffold(b,{threshold:0})},"left-of-screen":function(b){return!c.rightoffold(b,{threshold:0})},"in-viewport":function(b){return c.inviewport(b,{threshold:0})},"above-the-fold":function(b){return!c.belowthefold(b,
{threshold:0})},"right-of-fold":function(b){return c.rightoffold(b,{threshold:0})},"left-of-fold":function(b){return!c.rightoffold(b,{threshold:0})}})})($,window,document);